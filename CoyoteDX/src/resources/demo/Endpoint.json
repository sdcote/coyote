{
	"Class": "coyote.dx.Job",

	"Job": {
		"Name": "HttpReader",
		"Description": "Shows how to listen to HTTP events and process them according to ReST practices. Listeners process all data frames.",

		"Database": {
			"H2": {
				"library" : "jar:file:[#$app.home#]/lib/h2-1.4.196.jar!/",
				"driver" : "org.h2.Driver",
				"target" : "jdbc:h2:[#$user.dir#]/demodb;MODE=Oracle;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE",
				"autocreate" : true,
				"username" : "sa",
				"password" : ""				
			}
		},

		"Reader": {
			"class": "HttpReader",
			"port": 80,
			"timeout": 5000,
			"endpoint": "/coyote/:sysid"
		},

		"Listener": {
			"CreateRecord": { "Condition": "match( Context.HTTPMethod, POST)", "database": "H2", "table":"endpoint" },
			"ReadRecord": { "Condition": "match( Context.HTTPMethod, GET)", "database": "H2", "table":"endpoint" },
			"UpdateRecord": { "Condition": "match( Context.HTTPMethod, PUT)", "database": "H2", "table":"endpoint" },
			"DeleteRecord": { "Condition": "match( Context.HTTPMethod, DELETE)", "database": "H2", "table":"endpoint" }
		}

	},

	"Logging": {
		"StandardError": { "categories": "warn, error, fatal" },
		"StandardOutput": { "categories": "debug, info, notice" }
	}

}
