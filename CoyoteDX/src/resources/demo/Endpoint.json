{
	"Class": "coyote.dx.Job",

	"Job": {
		"Name": "HttpReader",
		"Description": "Shows how to listen to HTTP events and process them according to ReST practices. Listeners process all data frames.",

		"Database": {
			"H2": {
				"library": "jar:file:[#$app.home#]/lib/h2-1.4.196.jar!/",
				"driver": "org.h2.Driver",
				"target": "jdbc:h2:[#$user.dir#]/demodb;MODE=Oracle;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE",
				"autocreate": true,
				"username": "sa",
				"password": ""
			}
		},

		"Reader": {
			"class": "HttpReader",
			"port": "[#$cmd.arg.1#]",
			"timeout": "[#$cmd.arg.2#]",
			"endpoint": "/coyote/:sysid"
		},

		"Listener": {
			"CreateRecord": { "Condition": "match( Context.HttpMethod, POST)", "database": "H2", "table": "endpoint" },
			"ReadRecord": { "Condition": "match( Context.HttpMethod, GET)", "database": "H2", "table": "endpoint", "key": "sysid" },
			"UpdateRecord": { "Condition": "match( Context.HttpMethod, PUT)", "database": "H2", "table": "endpoint", "key": "sysid" },
			"DeleteRecord": { "Condition": "match( Context.HttpMethod, DELETE)", "database": "H2", "table": "endpoint", "key": "sysid" }
		}
	},

	"Logging": {
		"StandardError": { "categories": "warn, error, fatal" },
		"StandardOutput": { "categories": "debug, info, notice" }
	}
}
